<template>
  <lightning-card
    variant="base"
    icon-name="standard:product_request"
    title={cardTitle}
  >
    <div slot="actions" if:true={warehouseId}>
      <lightning-button
        label="New"
        onclick={handleAddRequest}
        variant="neutral"
      ></lightning-button>
    </div>
    <template if:true={warehouseId}>
      <div
        if:true={requestsCount}
        class="slds-card__body slds-card__body_inner"
      >
        <span class="slds-form-element__static"
          ><a href={latestFulfilmentRequest.requestUrl}
            >{latestFulfilmentRequest.requestName}</a
          ></span
        >
        <div class="slds-form" role="list">
          <div class="slds-form__item" role="listitem">
            <div
              class="slds-form-element slds-form-element_horizontal slds-form-element__readonly"
            >
              <label class="slds-form-element__label">Assigned To</label>
              <div class="slds-form-element__control">
                <div class="slds-form-element__static">
                  {latestFulfilmentRequest.assignedTo}
                </div>
              </div>
            </div>
          </div>
          <div class="slds-form__item" role="listitem">
            <div
              class="slds-form-element slds-form-element_horizontal slds-form-element__readonly"
            >
              <label class="slds-form-element__label">Status</label>
              <div class="slds-form-element__control">
                <div class="slds-form-element__static">
                  {latestFulfilmentRequest.status}
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slds-form__item" role="listitem">
          <div
            class="slds-form-element slds-form-element_horizontal slds-form-element__readonly"
          >
            <label class="slds-form-element__label">Fullfilled</label>
            <div class="slds-form-element__control">
              <div class="slds-form-element__static">
                {latestFulfilmentRequest.fullfilled}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        if:false={requestsCount}
        class="slds-illustration slds-illustration_small"
        aria-hidden="true"
      >
        <img
          src="/projRes/ui-home-private/emptyStates/noTasks.svg"
          class="slds-illustration__svg"
          alt="No fulfilment requests"
        />
        <div class="slds-text-color_weak">
          <h3 class="slds-text-heading_medium">No new fulfilment requests</h3>
          <p class="slds-text-body_regular">
            Select another warehouse or check back later.
          </p>
        </div>
      </div>
    </template>
    <lightning-button
      slot="footer"
      if:true={requestsCount}
      variant="base"
      label="View All"
      title="View All"
      onclick={handleViewAll}
    ></lightning-button>
  </lightning-card>
</template>
